import{u as R,a as $,c as v,b as w,g as W,o as h,d as g,e as t,r as x,_ as A,f as S,h as l,i as c,w as E,t as b,j as y,T as C,p as z,k,l as B,m as L,n as N,q as V,s as M,v as P,F as T,x as U,y as j}from"./index.pu5pe57kmi.js";function D(){const a=R(),{loader:i}=$(),m=v(()=>w().matched.map(e=>({title:e.meta.title,path:e.path,isBeta:e.meta.isBeta}))),o=v(()=>a.config.footer),d=[{href:"/intranet/agenda.php",label:"Agenda"},{href:"/intranet/meusdados.php",label:"Meus dados"},{href:"/intranet/logof.php",label:"Sair"}],u=v(()=>a.menus),r=v(()=>{const e=w().matched.reduce((p,f)=>Number(f.meta.process)||p,0),_=a.menus.find(p=>p.process===e);return _?_.menus:[]}),s=v(()=>a.user);return i(()=>W()).then(e=>{const _=e.filter(f=>!a.alerts.find(n=>n.id===f.id)),p=a.alerts.filter(f=>e.find(n=>n.id===f.id));a.alerts=[..._,...p]}),{breadcrumbs:m,footer:o,header:d,menus:u,topmenus:r,user:s}}function I(a,i){return h(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z","clip-rule":"evenodd"})])}function O(a,i){return h(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})])}const F={pwaInDevEnvironment:!1,webManifest:{href:"/app/manifest.webmanifest",useCredentials:!1,linkTag:'<link rel="manifest" href="/app/manifest.webmanifest">'}};function q(a={}){const{immediate:i=!1,onNeedRefresh:m,onOfflineReady:o,onRegistered:d,onRegisteredSW:u,onRegisterError:r}=a;let s,e;const _=async(f=!0)=>{await e};async function p(){if("serviceWorker"in navigator){const{Workbox:f}=await A(()=>import("./workbox-window.prod.es5.pu5pe57kmi.js"),[]);s=new f("/app/claims-sw.js",{scope:"/app/",type:"classic"}),s.addEventListener("activated",n=>{(n.isUpdate||n.isExternal)&&window.location.reload()}),s.addEventListener("installed",n=>{n.isUpdate||o==null||o()}),s.register({immediate:i}).then(n=>{u?u("/app/claims-sw.js",n):d==null||d(n)}).catch(n=>{r==null||r(n)})}}return e=p(),_}function H(a={}){const{immediate:i=!0,onNeedRefresh:m,onOfflineReady:o,onRegistered:d,onRegisteredSW:u,onRegisterError:r}=a,s=x(!1),e=x(!1);return{updateServiceWorker:q({immediate:i,onNeedRefresh(){s.value=!0,m==null||m()},onOfflineReady(){e.value=!0,o==null||o()},onRegistered:d,onRegisteredSW:u,onRegisterError:r}),offlineReady:e,needRefresh:s}}const G={key:0,"aria-live":"assertive",class:"z-50 pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:p-6"},J={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},K={key:0,class:"pointer-events-auto w-full max-w-sm rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},Q={class:"p-4"},X={class:"flex items-start"},Y={class:"flex-shrink-0 pt-0.5"},Z={class:"ml-3 w-0 flex-1"},ee=t("p",{class:"text-sm font-medium text-gray-900"},b("Atualização de conteúdo"),-1),te={class:"mt-1 text-sm text-gray-500"},se={class:"ml-4 flex flex-shrink-0"},ne=t("span",{class:"sr-only"},"Fechar",-1),ae=S({__name:"ReloadPrompt",setup(a){const i=x(!0),m=R();console.log(F);const{needRefresh:o,updateServiceWorker:d}=H({immediate:!0,onRegisteredSW(s,e){console.log(`Service Worker at: ${s}`),e&&setInterval(async()=>{console.log("Checking for sw update"),await e.update()},60*1e3)},onRegisterError(s){console.error("Error registering service worker:",s)}}),u=async()=>{o.value=!1},r=async()=>{m.cleanCache(),await d(!0)};return(s,e)=>l(o)?(h(),g("div",G,[t("div",J,[c(C,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:E(()=>[i.value?(h(),g("div",K,[t("div",Q,[t("div",X,[t("div",Y,[c(l(I),{class:"w-6 h-6"})]),t("div",Z,[ee,t("p",te,b("Um novo conteúdo está disponível, clique no botão abaixo para atualizar."),1),t("div",{class:"mt-4 flex"},[t("button",{class:"inline-flex items-center rounded-md bg-green-1 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-1/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-bg-green-1",type:"button",onClick:r}," Atualizar ")])]),t("div",se,[t("button",{type:"button",class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-green-1/90 focus:ring-offset-2",onClick:u},[ne,c(l(O),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):y("",!0)]),_:1})])])):y("",!0)}}),oe={class:"overflow-hidden h-screen relative"},re={class:"flex justify-between"},ie={class:"flex-row w-full"},le={class:"ieducar-content-main overflow-y-auto",style:{height:"calc(100vh - 144px)"}},de=S({__name:"Default",setup(a){const i=w(),{breadcrumbs:m,footer:o,header:d,menus:u,topmenus:r,user:s}=D();return z.initializeMeta(i,"/"),(e,_)=>{const p=k("metainfo"),f=k("router-view");return h(),g(T,null,[c(p,null,{title:E(({content:n})=>[U(b(n?`${n} · i-Educar`:"i-Educar"),1)]),_:1}),t("div",oe,[c(B,{class:"sticky top-0 z-20",user:l(s),menus:l(d)},null,8,["user","menus"]),t("div",re,[c(L,{menus:l(u)},null,8,["menus"]),t("div",ie,[l(r)&&l(r).length>0?(h(),N(V,{key:0,menus:l(r)},null,8,["menus"])):y("",!0),c(M,{breadcrumbs:l(m)},null,8,["breadcrumbs"]),t("main",le,[c(j),c(f)])])]),c(ae),c(P,{text:l(o)},null,8,["text"])])],64)}}});export{de as default};
//# sourceMappingURL=Default.pu5pe57kmi.js.map
